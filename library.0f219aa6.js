!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o("5xtVg");var l=e(o("WMajR")).template({1:function(e,t,n,a,o){var l,r=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n<li class='gallery__item' data-id="+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:i)===s?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:3,column:34},end:{line:3,column:40}}}):l)+">\n    <div class='block__image'>\n        <img class='gallery__image' src='https://image.tmdb.org/t/p/w500"+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:i)===s?l.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:5,column:72},end:{line:5,column:87}}}):l)+"' alt='"+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:i)===s?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:5,column:94},end:{line:5,column:103}}}):l)+"'\n            loading='lazy' />\n    </div>\n    <div class='info_movie'>\n        <h2 class='name_movie'>"+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:i)===s?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:9,column:31},end:{line:9,column:40}}}):l)+"\n        </h2>\n        <p class='genre_movie'>"+c(typeof(l=null!=(l=d(n,"genres")||(null!=t?d(t,"genres"):t))?l:i)===s?l.call(r,{name:"genres",hash:{},data:o,loc:{start:{line:11,column:31},end:{line:11,column:41}}}):l)+c(typeof(l=null!=(l=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?l:i)===s?l.call(r,{name:"release_date",hash:{},data:o,loc:{start:{line:11,column:41},end:{line:11,column:57}}}):l)+"<span class='reting'>"+c(typeof(l=null!=(l=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?l:i)===s?l.call(r,{name:"vote_average",hash:{},data:o,loc:{start:{line:11,column:78},end:{line:11,column:95}}}):l)+"</span></p>\n    </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?l:""},useData:!0}),r=o("iU1Pc");function i(){const t=localStorage.getItem("wathedlist-films"),n=localStorage.getItem("queuee-films"),a=JSON.parse(t),o=JSON.parse(n),i={buttonLibraryWatched:document.querySelector(".js-library-watch"),buttonLibraryQueue:document.querySelector(".js-library-queue"),containerLibrary:document.querySelector(".js-gallery-library"),buttonLoadMoreWatched:document.querySelector(".watched"),buttonLoadMoreQueue:document.querySelector(".queue")};i.buttonLibraryWatched.style.backgroundColor="#ff6b01",i.buttonLoadMoreWatched.style.display="none",i.buttonLoadMoreQueue.style.display="none";let s=0,c=0;function d(e,t){s=0,c=0,e.length<=18?i.containerLibrary.innerHTML=l(e):(i.containerLibrary.innerHTML=l(e.slice(0,18)),t.style.display="block")}if(a&&0!=a.length)d(a,i.buttonLoadMoreWatched);else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';i.containerLibrary.innerHTML=e}function u(t,n){s+=18,c+=s+18,t.length<=s?(n.style.display="none",e(r).Notify.failure("Sorry, no more movies here")):i.containerLibrary.insertAdjacentHTML("beforeend",l(t.slice(s,c)))}i.buttonLoadMoreWatched.addEventListener("click",(()=>u(a,i.buttonLoadMoreWatched))),i.buttonLoadMoreQueue.addEventListener("click",(()=>u(o,i.buttonLoadMoreQueue)));i.buttonLibraryQueue.addEventListener("click",(()=>{if(i.buttonLibraryWatched.style.backgroundColor="transparent",i.buttonLibraryQueue.style.backgroundColor="#ff6b01",o&&0!=o.length)i.buttonLoadMoreWatched.style.display="none",d(o,i.buttonLoadMoreQueue);else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';i.containerLibrary.innerHTML=e}}));i.buttonLibraryWatched.addEventListener("click",(()=>{if(i.buttonLibraryQueue.style.backgroundColor="transparent",i.buttonLibraryWatched.style.backgroundColor="#ff6b01",a&&0!=a.length)i.buttonLoadMoreQueue.style.display="none",d(a,i.buttonLoadMoreWatched);else{const e='\n   <div >        \n          <img src="https://cdn.pixabay.com/photo/2016/09/14/08/18/film-1668918_1280.jpg"\n          alt="movie" loading="lazy" />     \n   </div>\n      ';i.containerLibrary.innerHTML=e}}))}i();r=o("iU1Pc");var s=o("IdLUO");o("ioPGL");var c=o("5HWQb"),d=o("b4XhL");o("twtVq");var u=o("b62ED"),p=o("6LjOC");document.querySelector(".js-search-form");const m=document.querySelector(".js-gallery-library"),y=(document.querySelector(".js-movie-info"),document.querySelector(".js-container-movie")),f=(new(0,s.FilmSearch),new(0,d.Trending),new(0,p.GetFullMovieInfo)),g=(document.querySelector("#search__input"),"wathedlist-films"),h="queuee-films";let b,L,v=JSON.parse(localStorage.getItem(g));JSON.parse(localStorage.getItem(h));const S={lines:13,length:38,width:17,radius:45,scale:1,corners:1,speed:1,rotate:1,animation:"spinner-line-fade-more",direction:1,color:"#ff6b01",fadeColor:"transparent",top:"50%",left:"50%",shadow:"0 0 1px transparent",zIndex:2e9,className:"spinner",position:"fixed"};m.addEventListener("click",(async t=>{const n=new(0,u.Spinner)(S).spin();if(m.prepend(n.el),"UL"!==t.target.nodeName){f.id=t.target.closest("li").dataset.id,L=f.id;try{const e=await f.fetchFilmsByID();e.data.title&&(e.data.title=e.data.title.toUpperCase()),e.data.original_title&&(e.data.original_title=e.data.original_title.toUpperCase()),e.data.poster_path||(e.data.poster_path="/vkcajIqORuKfd8uV2GYULlHut9o.jpg");const t=[];e.data.genres.map((e=>{t.push(e.name)})),e.data.genres=[...t],y.innerHTML=(0,c.default)(e.data),b=e.data,setTimeout((()=>{const e=document.querySelector(".js-Wathed"),t=document.querySelector(".js-Queuee");v.find((e=>e.id==L))?(e.textContent="REMOVED FROM WATCHED",t.textContent="ADD TO WATCHED/QUEUE"):(e.textContent="REMOVED FROM QUEUE",t.textContent="ADD TO WATCHED/QUEUE")}),0)}catch(t){e(r).Notify.failure(console.log(t))}n.stop()}}));document.querySelector(".modal__container").addEventListener("click",(e=>{if(e.target.classList.contains("js-Wathed")){let e=JSON.parse(localStorage.getItem(g)),t=JSON.parse(localStorage.getItem(h));if(e.find((e=>e.id==L))){const t=e.filter((e=>e.id!=L));localStorage.setItem(g,JSON.stringify(t)),i()}else{const e=t.filter((e=>e.id!=L));localStorage.setItem(h,JSON.stringify(e)),i()}}if(e.target.classList.contains("js-Queuee")){let e=JSON.parse(localStorage.getItem(g)),t=JSON.parse(localStorage.getItem(h));const n=e.find((e=>e.id==L)),a=t.find((e=>e.id==L));if(n){const a=e.filter((e=>e.id!=L));localStorage.setItem(g,JSON.stringify(a)),t.push(n),localStorage.setItem(h,JSON.stringify(t)),i()}else{const n=t.filter((e=>e.id!=L));localStorage.setItem(h,JSON.stringify(n)),e.push(a),localStorage.setItem(g,JSON.stringify(e)),i()}}}))}();
//# sourceMappingURL=library.0f219aa6.js.map
